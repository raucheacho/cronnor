{{ if not .Jobs }}
<div class="text-center py-12 px-6 bg-surface rounded-xl border-2 border-dashed border-border">
  <h3 class="text-xl text-text mb-2">No jobs yet</h3>
  <p class="text-text-muted mb-6">Create your first HTTP cron job to get started!</p>
  <a href="/jobs/new" class="inline-block px-4 py-2 rounded-lg text-sm font-semibold transition-all bg-primary text-white hover:bg-primary-dark">+ Create First Job</a>
</div>
{{ else }}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {{ range .Jobs }}
  <div class="bg-surface border border-border rounded-xl p-6 transition-all hover:-translate-y-0.5 hover:shadow-lg {{ if not .IsActive }}opacity-60{{ end }}">
    <div class="flex justify-between items-start mb-4 gap-4">
      <h3 class="text-xl font-semibold text-primary">{{ .Name }}</h3>
      <div class="flex gap-2 flex-wrap">
        <button
          hx-post="/jobs/{{ .ID }}/toggle"
          hx-target="#jobs-container"
          hx-swap="innerHTML"
          class="px-3 py-1.5 rounded-md text-xs font-semibold transition-all {{ if .IsActive }}bg-warning text-white hover:bg-opacity-90{{ else }}bg-success text-white hover:bg-opacity-90{{ end }}"
        >
          {{ if .IsActive }}⏸ Disable{{ else }}▶ Enable{{ end }}
        </button>
        <button
          hx-post="/jobs/{{ .ID }}/run"
          hx-swap="none"
          class="px-3 py-1.5 rounded-md text-xs font-semibold transition-all bg-primary text-white hover:bg-primary-dark"
        >
          ▶ Run Now
        </button>
      </div>
    </div>

    <div class="mb-4 space-y-2">
      <div class="flex py-2 border-b border-surface-light gap-4">
        <span class="font-semibold text-text-muted min-w-[100px]">URL:</span>
        <span class="text-text break-all">{{ .Method }} {{ .URL }}</span>
      </div>
      <div class="flex py-2 border-b border-surface-light gap-4">
        <span class="font-semibold text-text-muted min-w-[100px]">Schedule:</span>
        <span class="font-mono bg-background px-2 py-1 rounded text-sm">{{ .CronExpr }}</span>
      </div>
      <div class="flex py-2 border-b border-surface-light gap-4">
        <span class="font-semibold text-text-muted min-w-[100px]">Next Run:</span>
        <span class="text-text">{{ nextRun .CronExpr }}</span>
      </div>
      {{ if .LastRunAt.Valid }}
      <div class="flex py-2 border-b border-surface-light gap-4">
        <span class="font-semibold text-text-muted min-w-[100px]">Last Run:</span>
        <span class="text-text">{{ formatTime .LastRunAt.Time }}</span>
      </div>
      {{ end }} {{ if .LastStatus.Valid }}
      <div class="flex py-2 border-b border-surface-light gap-4">
        <span class="font-semibold text-text-muted min-w-[100px]">Status:</span>
        <span class="inline-block px-3 py-1 rounded-md text-sm font-semibold {{ statusClass .LastStatus.String }}">
          {{ .LastStatus.String }}
        </span>
      </div>
      {{ end }}
    </div>

    <div class="flex gap-2 mt-4 pt-4 border-t border-border">
      <a href="/jobs/{{ .ID }}" class="px-3 py-1.5 rounded-md text-xs font-semibold transition-all bg-secondary text-white hover:bg-surface-light"
        >View Details</a
      >
      <a href="/jobs/{{ .ID }}/edit" class="px-3 py-1.5 rounded-md text-xs font-semibold transition-all bg-secondary text-white hover:bg-surface-light">Edit</a>
      <button
        hx-post="/jobs/{{ .ID }}/delete"
        hx-confirm="Are you sure you want to delete this job?"
        hx-target="#jobs-container"
        hx-swap="innerHTML"
        class="px-3 py-1.5 rounded-md text-xs font-semibold transition-all bg-danger text-white hover:bg-opacity-90"
      >
        Delete
      </button>
    </div>
  </div>
  {{ end }}
</div>
{{ end }}
